<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-3</depth>
  <persistent>0</persistent>
  <parentName>NPC_Padre</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Variables
global.pause2 = false;
dialogo[0]="";
conversa=0;
alpha=0;
lineas[0]=0;
image_speed=0;
finalizado=true;
i=-1;
ian=i;
ip=0;
j=0;
nconver=0;
raconver=0;
selec=false;
colin=0;
tolin=0;
objeto=creador_espada;
comprado=false;
costo=8;
seleob=1;
condicion[0]=false;
maxi=100;
pos=1;
presz=true;


enfria=120;
randelec=irandom(2);
vel=0;
dir=0;
image_speed=0;
activado=true;

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Conversación
//Dialogos
nconver=3;
dialogo[0]="Yo no soy malo como mis compañeros de trabajo."
dialogo[1]="Espero y vengas a derrotar a las gemelas, ellas son las dueñas de este edificio."
dialogo[2]="Por su culpa todos estamos esclavizados, y además hacen decoraciones muy raras en el edificio."
dialogo[3]="En esta zona las cosas funcionan muy raro, las cosas no son lo que parece."
dialogo[4]="Las paredes y pisos no son lo que parecen, así que ten cuidado."
lineas[colin]=array_length_1d(dialogo);
colin=colin+1;
tolin=tolin+lineas[colin-1];

dialogo[5]="Si te fijas con atención por la derecha hay un agujero que está tapado por una pared traspasable."
dialogo[6]="Por ahí se encuentran el resto de mis compañeros, algunos te engañarán y te harán caer en trampas."
lineas[colin]=array_length_1d(dialogo)-tolin;
colin=colin+1;
tolin=tolin+lineas[colin-1];

dialogo[7]="Ten cuidado."
lineas[colin]=array_length_1d(dialogo)-tolin;
colin=colin+1;
tolin=tolin+lineas[colin-1];


//Opciones
largo=array_length_1d(dialogo);
for (h=0;h&lt;largo;h+=1){salto[h]=-1;opciones[h]=0;comprar[h]=false}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Condición
if global.pause{exit}
if true{condicion[0]=true}
if condicion[0]=false{salto[1]=9;opciones[1]=1}
//condicion[1]=true
if global.pause2=false
{
if enfria=0{randelec=irandom(3);}
if randelec=3 and vel!=0{randelec=irandom(2);}

if randelec=0 and activado=true {activado=false;dir=1;vel=1;}
if randelec=1 and activado=true {activado=false;dir=-1;vel=-1;}
if randelec=2 and activado=true {activado=false;vel=0;image_index=1;}

if randelec=3 and vel=0 and activado=true
    {
        activado=false;
        vel=0;
        image_index=1;   
        if dir=1
            {
                sprite_index=sprite_Persona15_Izquierda;
            }
        else{sprite_index=sprite_Persona15_Derecha;} 
    }
if vel!=0{image_index=image_index+1/12}

if place_meeting(x,y,bloque) 
{ 
    vel=-vel
    x=x+vel*8
}
if vel=1{sprite_index=sprite_Persona15_Derecha;}
if vel=-1{sprite_index=sprite_Persona15_Izquierda;}

x=x+vel;
enfria=enfria-1
if enfria=-1{enfria=irandom_range(100,180);activado=true;}

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();
if global.pause{exit}
draw_set_halign(fa_center);
draw_set_valign(fa_middle);
draw_set_colour(c_white);
draw_set_font(font0);
if !collision_rectangle( x+17, y+32, x-17, y-32, NPC_Padre, false, true ) and !place_meeting(personaje.x,personaje.y,checkpoint)
{
if !(salto[clamp(i,0,maxi)]=-1)
{
    if keyboard_check_pressed(vk_down) {i=i+1;seleob=seleob-1}
    else if keyboard_check_pressed(vk_up) {i=i-1;seleob=seleob+1}
    i=clamp(i,ip,ip+opciones[ip]-1);
    ian=clamp(i,0,maxi);
    seleob=clamp(seleob,0,1);
    if keyboard_check_pressed(ord('A')) and abs(personaje.x-x)&lt;16 and abs(personaje.y-y)&lt;48 and presz=true and personaje.suelo=1
    {
        i=salto[i];
        ip=i;
        finalizado=false;
        selec=true;
        pos=1;
        presz=false;
        global.pause2 = true;
        if seleob=1 and comprado=false and comprar[ian]=true{instance_create(personaje.x,personaje.y,objeto);global.moneda=global.moneda-costo;comprado=true;}
    }
}
if salto[clamp(i,0,maxi)]=-1 
{
if keyboard_check_pressed(ord('A')) and abs(personaje.x-x)&lt;16 and abs(personaje.y-y)&lt;48 and selec=false and presz=true and personaje.suelo=1
{
    i=i+1;
    ip=i;
    finalizado=false;
    presz=false;
    pos=1;
    global.pause2 = true;
}
}

if i=lineas[conversa]
{
    i=-1;
    finalizado=true;
    global.pause2 = false;
    conversa=conversa+1;
    if conversa=nconver{conversa=conversa-1}
    if seleob=0 or condicion[0]=false{conversa=0}
    if seleob=0 and condicion[0]=true{seleob=1;}
    j=0;
    for (raconver=0;raconver&lt;conversa;raconver+=1)
    {
        j=j+lineas[raconver]
    }
    presz=true; 
}
if abs(personaje.x-x)&lt;16 and abs(personaje.y-y)&lt;48 and finalizado=false
{
    draw_sprite(Dialogos,0,view_xview+view_wview/2,view_yview+260)
    textmaq(view_xview+view_wview/2,view_yview+259,string(dialogo[i+j]),11,322)
}
else{i=-1;finalizado=true;presz=true;;}

}


alpha=clamp(alpha,0,1)
draw_sprite_ext(Save_A, image_index, x, y-48, 1, 1, 0, c_white,alpha);
if abs(personaje.x-x)&lt;16 and abs(personaje.y-y)&lt;48
{alpha=alpha+0.05;}
else{alpha=alpha-0.02;}
selec=false;
if global.moneda&lt;0{global.moneda=0}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
